# -*- mode:python; coding:utf-8; -*-

# The core difference between this test and the one of SharedObjectSuffixIssue
# is that here we explicitly use the relevant D tool and things work.

DefaultEnvironment(tools=[])
env = Environment(
    tools=['{0}', 'link']
)

shobj = env.SharedObject('code.d')
env.SharedLibrary('answer', shobj)
env.SharedLibrary('answer_versioned', shobj, SHLIBVERSION='1.1.1', SONAME='1')
